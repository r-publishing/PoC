(this.webpackJsonppoc=this.webpackJsonppoc||[]).push([[2],{24:function(e,t,r){"use strict";r.d(t,"j",(function(){return A})),r.d(t,"k",(function(){return _})),r.d(t,"i",(function(){return P})),r.d(t,"g",(function(){return C})),r.d(t,"h",(function(){return B})),r.d(t,"a",(function(){return J})),r.d(t,"b",(function(){return K})),r.d(t,"c",(function(){return L})),r.d(t,"f",(function(){return G})),r.d(t,"d",(function(){return M})),r.d(t,"e",(function(){return V}));var a,n=r(5),c=r(1),s=r.n(c),o=r(2),i=r(15),u=r(102),l=r(326),d=r(25),p=r(52),b=r(314),f=r(318),O=r(319),j=r(320),y=r(321),h=r(322),x=r(323),v=r(324),g=s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)([Object(b.a)(),Object(f.a)(),Object(O.a)(),Object(j.a)(),Object(y.a)(),Object(h.a)(),Object(x.a)(),Object(v.a)()]);case 2:case"end":return e.stop()}}),e)})),m=r(70),w=r(325),k=r(51),S=r(100),U=r(149),I={did:void 0,readOnlyUrl:"https://gracious-pare-6c4c99.netlify.app",validatorUrl:"https://gracious-pare-6c4c99.netlify.app",contractPublicKey:void 0,identities:{},registryUri:void 0,publicKey:void 0,bags:{},bagsData:{},isLoading:!1,searchText:"",platform:"",authorised:!1,user:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"INIT":return Object(i.a)({},e);case"AUTHORISED":return Object(i.a)(Object(i.a)({},e),{},{did:t.payload.did,authorised:!0,registryUri:t.payload.registryUri,publicKey:t.payload.publicKey,user:t.payload.user});case"ADD_IDENTITY":return Object(i.a)(Object(i.a)({},e),{},{identities:Object(i.a)(Object(i.a)({},e.identities),{},Object(o.a)({},t.payload.pubKey,t.payload.registryUri))});case"INIT_COMPLETED":return Object(i.a)(Object(i.a)({},e),{},{contractPublicKey:t.payload.contractPublicKey});case"SET_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.payload});case"SAVE_BAGS_COMPLETED":return Object(i.a)(Object(i.a)({},e),{},{bags:t.payload});case"SAVE_BAG_DATA_COMPLETED":return Object(i.a)(Object(i.a)({},e),{},{bagsData:Object(i.a)(Object(i.a)({},e.bagsData),{},Object(o.a)({},t.payload.bagId,t.payload.document))});case"SAVE_BAGS_DATA_COMPLETED":return Object(i.a)(Object(i.a)({},e),{},{bagsData:t.payload});case"SET_PLATFORM":return Object(i.a)(Object(i.a)({},e),{},{platform:t.payload.platform});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.payload.user});case"SET_SEARCH_TEXT":return Object(i.a)(Object(i.a)({},e),{},{searchText:t.payload.searchText});default:return e}},E=Object(l.a)(),A=Object(k.a)(),T=[Object(w.routerMiddleware)(A),E],N=s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.a)([g()]);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("An error occured in sagas"),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})),_=Object(u.d)((a=A,Object(u.b)({router:Object(m.b)(a),reducer:D})),u.a.apply(void 0,T));E.run(N);var P=Object(p.a)((function(e){return e}),(function(e){return e.reducer.publicKey})),R=Object(p.a)((function(e){return e}),(function(e){return e.reducer.user})),C=Object(p.a)((function(e){return e}),(function(e){return e.reducer.platform})),B=Object(p.a)(P,C,(function(e,t){return new Promise(function(){var r=Object(n.a)(s.a.mark((function r(a,n){var c,o;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!["ios","android"].includes(t)){r.next=4;break}S.a.isAvailable().then((function(e){S.a.loadBiometricSecret({description:"Allow the app to access your PrivateKey?",disableBackup:!0}).then((function(e){a(e)}))})).catch((function(e){console.info("Biometrics not available. Reason: "+JSON.stringify(e)),n(e)})),r.next=9;break;case 4:return r.next=6,U.SecureStoragePlugin.get({key:e});case 6:c=r.sent,o=JSON.parse(c.value),a(o.privateKey);case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())})),J=Object(p.a)((function(e){return e}),(function(e){return e.reducer.bags})),K=Object(p.a)((function(e){return e}),(function(e){return e.reducer.bagsData})),L=Object(p.a)((function(e){return e}),(function(e){return e.reducer.contractPublicKey===e.reducer.publicKey?"owner":"guest"})),G=Object(p.a)((function(e){return e}),(function(e){var t=e.reducer.bagsData,r={};return Object.keys(t).forEach((function(e){var a=t[e];a&&a.signatures&&a.signatures[0]&&a.signatures[1]&&(r[e]=a)})),r})),M=Object(p.a)(K,(function(e){return Object.keys(e).sort((function(t,r){return e[t].date===e[r].date||e[t].date>e[r].date?1:-1}))})),V=(Object(p.a)(J,M,(function(e,t){return t.filter((function(t){return(e[t].price||0)>0}))})),Object(p.a)(J,R,M,(function(e,t,r){return r.filter((function(r){return e[r].boxId===t}))})),Object(p.a)(K,P,(function(e,t){var r={};return Object.keys(e).forEach((function(a){var n=e[a];n&&n.signatures&&n.signatures[0]&&!n.signatures[1]&&n.signatures[0].publicKey!==t&&(r[a]=n)})),r})))},314:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return D}));var a=r(1),n=r.n(a),c=r(5),s=r(15),o=r(25),i=r(19),u=r(24),l=r(94),d=r(73),p=r(39),b=r(100),f=r(43),O=r.n(f),j=r(45),y=r(46),h=r(44),x=r(56),v=r(116),g=r.n(v),m=r(149),w=r(93),k=w.readPursesTerm,S=w.readBoxTerm,U=w.readPursesDataTerm,I=n.a.mark((function t(r){var a,f,v,w,I,D,E,A,T,N,_,P,R,C,B,J,K,L,G,M,V,H,W,F,z,Q,q;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.k.getState(),t.next=3,Object(o.b)({type:"SET_LOADING",payload:!0});case 3:return f=r.payload.publicKey,v=r.payload.registryUri,w=r.payload.user,I=r.payload.store,D=S({boxId:w,masterRegistryUri:v}),t.next=10,i.http.exploreDeploy(a.reducer.readOnlyUrl,{term:D});case 10:return E=t.sent,A=i.utils.rhoValToJs(JSON.parse(E).expr[0]),T=Object.keys(A.purses).length>0?A.purses[I]:[],N=k({masterRegistryUri:v,contractId:I,pursesIds:T||[]}),t.next=16,i.http.exploreDeploy(a.reducer.readOnlyUrl,{term:N});case 16:if(_=t.sent,P=JSON.parse(_).expr,R=i.utils.rhoValToJs(P?P[0]:{}),C=R,!((B=Object.keys(C||{})).length>0)){t.next=26;break}return K=U({masterRegistryUri:v,pursesIds:B,contractId:I}),t.next=25,i.http.exploreDeploy(a.reducer.readOnlyUrl,{term:K});case 25:J=t.sent;case 26:if(L=i.utils.rhoValToJs(JSON.parse(E).expr[0]),!["ios","android"].includes(a.reducer.platform)){t.next=36;break}return t.next=30,b.a.isAvailable();case 30:if(!t.sent){t.next=34;break}return t.next=34,b.a.registerBiometricSecret({description:"Register this private key?",secret:r.payload.privateKey,invalidateOnEnrollment:!1,disableBackup:!0});case 34:t.next=38;break;case 36:G={key:f,value:JSON.stringify({registryUri:r.payload.registryUri,privateKey:r.payload.privateKey})},m.SecureStoragePlugin.set(G);case 38:return t.t0=h.DID,t.t1=s.a,t.t2=s.a,t.t3={},t.next=44,Object(j.a)();case 44:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=O.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},M=new t.t0(t.t8),V=e.from(r.payload.privateKey,"hex"),H=new y.a(V),t.next=54,M.authenticate({provider:H});case 54:if(!M.authenticated){t.next=57;break}return t.next=57,Object(o.b)({type:"AUTHORISED",payload:{did:M,authorised:!0,registryUri:r.payload.registryUri,publicKey:f,user:w}});case 57:return t.next=59,Object(o.b)({type:"INIT_COMPLETED",payload:{contractPublicKey:L.publicKey}});case 59:return W=JSON.parse(_).expr,F=i.utils.rhoValToJs(W?W[0]:{})||{},z={},Object.keys(F).forEach((function(e){z[Object(l.a)(r.payload.registryUri,e)]=F[e]})),t.next=65,Object(o.b)({type:"SAVE_BAGS_COMPLETED",payload:z});case 65:if(Object(),!J){t.next=72;break}return Q=i.utils.rhoValToJs(JSON.parse(J).expr[0]),q={},Object.keys(Q).forEach(function(){var t=Object(c.a)(n.a.mark((function t(a){var c,o,i,u,p,b,f,O,j,y,h,v,m,w,k,S;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.from(decodeURI(Q[a]),"base64"),o=e.from(Object(d.b)(c)),i=o.toString("utf-8"),"store"!==I){t.next=19;break}return O=JSON.parse(i),t.prev=5,t.next=8,M.decryptDagJWE(O);case 8:j=t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(5),console.info("Unable to decrypt. "+t.t0),t.abrupt("return");case 15:u=null===(b=j)||void 0===b?void 0:b.jws,p=null===(f=j)||void 0===f?void 0:f.data,t.next=22;break;case 19:y=JSON.parse(i),u=null===y||void 0===y?void 0:y.jws,p=null===y||void 0===y?void 0:y.data;case 22:if(!u||!p){t.next=41;break}return t.prev=23,t.next=26,M.verifyJWS(u);case 26:return h=t.sent,t.next=29,M.resolve(h.kid);case 29:v=t.sent,m=v.publicKey[0].publicKeyHex,w=g.a.util.deserialize(Object(x.decodeBase64)(p)),k=Object(s.a)(Object(s.a)({},u.signatures[0]),{},{payload:u.payload,publicKey:m}),S=Object.keys(w.signatures).length,w.signatures[S]=k,q[Object(l.a)(r.payload.registryUri,a)]=w,t.next=41;break;case 38:t.prev=38,t.t1=t.catch(23),console.info("Unable to verify. "+t.t1);case 41:case"end":return t.stop()}}),t,null,[[5,11],[23,38]])})));return function(e){return t.apply(this,arguments)}}()),t.next=72,Object(o.b)({type:"SAVE_BAGS_DATA_COMPLETED",payload:q});case 72:return M.deauthenticate(),t.next=75,Object(o.b)({type:"SET_LOADING",payload:!1});case 75:return u.k.dispatch(Object(p.c)("/#/doc")),t.abrupt("return",!0);case 77:case"end":return t.stop()}}),t)})),D=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.c)("INIT",I);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},318:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return O}));var a=r(1),n=r.n(a),c=r(15),s=r(25),o=r(19),i=r(24),u=r(43),l=r.n(u),d=r(45),p=r(46),b=r(44),f=n.a.mark((function t(r){var a,u,f,O,j,y;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.k.getState(),t.next=3,Object(s.b)({type:"SET_LOADING",payload:!0});case 3:return t.next=5,Object(i.h)(a);case 5:return u=t.sent,f=o.utils.publicKeyFromPrivateKey(u),t.t0=b.DID,t.t1=c.a,t.t2=c.a,t.t3={},t.next=13,Object(d.a)();case 13:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=l.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},O=new t.t0(t.t8),j=e.from(u,"hex"),y=new p.a(j),t.next=23,O.authenticate({provider:y});case 23:if(!O.authenticated){t.next=26;break}return t.next=26,Object(s.b)({type:"AUTHORISED",payload:{did:O,authorised:!0,registryUri:r.payload.registryUri,publicKey:f}});case 26:return O.deauthenticate(),t.next=29,Object(s.b)({type:"SET_LOADING",payload:!1});case 29:return t.abrupt("return",!0);case 30:case"end":return t.stop()}}),t)})),O=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)("REFRESH",f);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},319:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return h}));var a=r(1),n=r.n(a),c=r(15),s=r(25),o=r(94),i=r(24),u=r(43),l=r.n(u),d=r(45),p=r(46),b=r(44),f=r(56),O=r(116),j=r.n(O),y=n.a.mark((function t(r){var a,u,O,y,h,x,v,g,m,w;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("load-bag-data",r.payload),a=i.k.getState(),u=Object(o.a)(r.payload.registryUri,r.payload.bagId),!a.reducer.bagsData[u]){t.next=7;break}return t.next=6,Object(s.b)({type:"SET_LOADING_BAG",payload:!1});case 6:return t.abrupt("return",!0);case 7:return t.next=9,Object(s.b)({type:"SET_LOADING_BAG_DATA",payload:!0});case 9:return t.next=11,Object(i.h)(a);case 11:return O=t.sent,t.t0=b.DID,t.t1=c.a,t.t2=c.a,t.t3={},t.next=18,Object(d.a)();case 18:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=l.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},y=new t.t0(t.t8),h=e.from(O,"hex"),x=new p.a(h),t.next=28,y.authenticate({provider:x});case 28:return t.prev=28,t.next=31,y.resolve("did:rchain:"+u);case 31:return v=t.sent,t.next=34,y.decryptDagJWE(v);case 34:if(!(g=t.sent).jws){t.next=44;break}return t.next=38,y.verifyJWS(g.jws);case 38:return m=t.sent,console.info(m),(w=j.a.util.deserialize(Object(f.decodeBase64)(g.data))).data=e.from(w.data,"base64").toString("utf-8"),t.next=44,Object(s.b)({type:"SAVE_BAG_DATA_COMPLETED",payload:{bagId:Object(o.a)(r.payload.registryUri,r.payload.bagId),registryUri:r.payload.registryUri,document:w}});case 44:t.next=51;break;case 46:return t.prev=46,t.t9=t.catch(28),console.log(t.t9),t.next=51,Object(s.b)({type:"SAVE_BAG_DATA_COMPLETED",payload:{bagId:r.payload.bagId,registryUri:r.payload.registryUri,document:null}});case 51:return console.log("payload data",r.payload),y.deauthenticate(),t.next=55,Object(s.b)({type:"SET_LOADING_BAG",payload:!1});case 55:return t.abrupt("return",!0);case 56:case"end":return t.stop()}}),t,null,[[28,46]])})),h=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)("LOAD_BAG_DATA",y);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},320:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return S}));var a=r(1),n=r.n(a),c=r(2),s=r(15),o=r(25),i=r(19),u=r(73),l=r(47),d=r.n(l),p=r(43),b=r.n(p),f=r(45),O=r(46),j=r(44),y=r(56),h=r(24),x=r(98),v=r(74),g=r(75),m=r(39),w=r(93).createPursesTerm;var k=n.a.mark((function t(r){var a,l,p,k,S,U,I,D,E,A,T,N,_,P,R,C,B,J,K,L,G,M,V,H;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("upload-bag-data",r.payload),a=r.payload.recipient,l=r.payload.folder,p=r.payload.bagId,k=h.k.getState(),S=k.reducer.publicKey,t.next=8,Object(h.h)(k);case 8:return U=t.sent,t.t0=j.DID,t.t1=s.a,t.t2=s.a,t.t3={},t.next=15,Object(f.a)();case 15:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=b.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},I=new t.t0(t.t8),D=e.from(U,"hex"),E=new O.a(D),t.next=25,I.authenticate({provider:E});case 25:return A=a?"did:rchain:"+k.reducer.registryUri+"/"+a:"did:rchain:"+k.reducer.registryUri+"/"+k.reducer.user,T={files:l.files,signatures:l.signatures,date:l.date,description:r.payload.description,resolution:r.payload.mainFileResolution,scheme:{0:A,1:"did:rchain:"+k.reducer.registryUri+"/"+k.reducer.user},mainFile:r.payload.mainFile||Object.keys(l.files)[0]},t.next=29,I.createDagJWS(T);case 29:return N=t.sent,_=N.jws,P=N.linkedBlock,t.next=34,I.createDagJWE({jws:_,data:Object(y.encodeBase64)(P)},[A],{protectedHeader:{alg:"A256GCMKW"}});case 34:return R=t.sent,C=JSON.stringify(R,x.a),B=Object(u.a)(C),J=e.from(B).toString("base64"),K={purses:Object(c.a)({},p,{id:p,boxId:a,type:"0",quantity:1,price:null}),data:Object(c.a)({},p,J),masterRegistryUri:k.reducer.registryUri,contractId:"store",boxId:k.reducer.user},localStorage.setItem("price",JSON.stringify(r.payload.price)),I.deauthenticate(),L=w(K),t.prev=42,t.t9=JSON,t.next=46,i.http.blocks(k.reducer.readOnlyUrl,{position:1});case 46:t.t10=t.sent,G=t.t9.parse.call(t.t9,t.t10)[0].blockNumber,t.next=54;break;case 50:throw t.prev=50,t.t11=t.catch(42),console.log(t.t11),new Error("Unable to get last finalized block");case 54:return M=(new Date).getTime(),t.next=57,Object(v.a)(k.reducer.readOnlyUrl,S,M);case 57:return V=t.sent,t.next=60,i.utils.getDeployOptions("secp256k1",M,L,U,S,1,4e9,G);case 60:return H=t.sent,t.prev=61,t.next=64,i.http.deploy(k.reducer.validatorUrl,H);case 64:return t.sent.startsWith('"Success!')&&d.a.fire({text:"Upload is in progress",showConfirmButton:!1}),t.next=68,Object(g.a)(JSON.parse(V).names[0],k.reducer.readOnlyUrl);case 68:h.k.dispatch(Object(m.c)("/#/doc")),d.a.fire({title:"Success!",text:"Upload complete",showConfirmButton:!1,timer:5e3,didClose:function(){localStorage.setItem("tour","1"),window.location.reload()}}),t.next=76;break;case 72:t.prev=72,t.t12=t.catch(61),console.info("Unable to deploy"),console.error(t.t12);case 76:return t.next=78,Object(o.b)({type:"PURCHASE_BAG_COMPLETED",payload:{}});case 78:return console.log(k),t.abrupt("return",!0);case 80:case"end":return t.stop()}}),t,null,[[42,50],[61,72]])})),S=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.c)("UPLOAD",k);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},321:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return S}));var a=r(1),n=r.n(a),c=r(15),s=r(25),o=r(19),i=r(73),u=r(47),l=r.n(u),d=r(43),p=r.n(d),b=r(45),f=r(46),O=r(44),j=r(153),y=r(56),h=r(24),x=r(98),v=r(74),g=r(75),m=r(39),w=r(93).purchaseAndWithdrawTerm;var k=n.a.mark((function t(r){var a,u,d,k,S,U,I,D,E,A,T,N,_,P,R,C,B,J,K,L,G,M,V,H,W,F,z,Q,q,X;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("reuploload-bag-data",r.payload),a=h.k.getState(),u=Object(h.b)(a),d=a.reducer.publicKey,t.next=6,Object(h.h)(a);case 6:return k=t.sent,t.t0=O.DID,t.t1=c.a,t.t2=c.a,t.t3={},t.next=13,Object(b.a)();case 13:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=p.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},S=new t.t0(t.t8),U=e.from(k,"hex"),I=new f.a(U),t.next=23,S.authenticate({provider:I});case 23:if(D=u["".concat(r.payload.registryUri,"/").concat(r.payload.bagId)]){t.next=27;break}return console.error("bagData/document not found"),t.abrupt("return");case 27:if(E="0",A="nft",T=r.payload.bagId,D.signatures[0]){t.next=33;break}t.next=45;break;case 33:if(D.signatures[1]){t.next=38;break}E="1",T="".concat(r.payload.bagId," ").concat(parseInt(E,10)+1),t.next=45;break;case 38:if(D.signatures[2]){t.next=43;break}E="2",T="".concat(r.payload.bagId.slice(0,r.payload.bagId.length-1)," ").concat(A),t.next=45;break;case 43:return console.error("Signature 0, 1 and 2 are already on document"),t.abrupt("return");case 45:return N=Object(c.a)(Object(c.a)({},D),{},{date:D.date}),_=Object(c.a)({},N),P="",_.scheme&&(P=_.scheme[parseInt(E)%3]),P&&(B=Object(j.parse)(P),R=null===(C=B.path)||void 0===C?void 0:C.substring(1)),t.next=52,S.createDagJWS(_);case 52:return J=t.sent,K=J.jws,L=J.linkedBlock,t.next=57,S.createDagJWE({jws:K,data:Object(y.encodeBase64)(L)},[P],{protectedHeader:{alg:"A256GCMKW"}});case 57:return G=t.sent,M=JSON.stringify(G,x.a),V=Object(i.a)(M),H=e.from(V).toString("base64"),W={masterRegistryUri:r.payload.registryUri,purseId:"0",contractId:"store",boxId:a.reducer.user,toBoxId:R,quantity:1,withdrawQuantity:1,data:H,newId:T,merge:!0,price:1,publicKey:d},S.deauthenticate(),F=w(W),t.prev=64,t.t9=JSON,t.next=68,o.http.blocks(a.reducer.readOnlyUrl,{position:1});case 68:t.t10=t.sent,z=t.t9.parse.call(t.t9,t.t10)[0].blockNumber,t.next=76;break;case 72:throw t.prev=72,t.t11=t.catch(64),console.log(t.t11),new Error("Unable to get last finalized block");case 76:return Q=(new Date).getTime(),t.next=79,Object(v.a)(a.reducer.readOnlyUrl,d,Q);case 79:return q=t.sent,t.next=82,o.utils.getDeployOptions("secp256k1",Q,F,k,d,1,4e9,z);case 82:return X=t.sent,t.next=85,o.http.deploy(a.reducer.validatorUrl,X);case 85:return t.sent.startsWith('"Success!')&&l.a.fire({text:"Attestation is in progress",showConfirmButton:!1}),t.next=89,Object(g.a)(JSON.parse(q).names[0],a.reducer.readOnlyUrl);case 89:return h.k.dispatch(Object(m.c)("/#/doc")),l.a.fire({title:"Success!",text:"Attestation complete",showConfirmButton:!1,timer:5e3,didClose:function(){localStorage.setItem("tour","2"),window.location.reload()}}),t.next=93,Object(s.b)({type:"PURCHASE_BAG_COMPLETED",payload:{}});case 93:return t.abrupt("return",!0);case 94:case"end":return t.stop()}}),t,null,[[64,72]])})),S=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)("REUPLOAD_BAG_DATA",k);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},322:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return S}));var a=r(1),n=r.n(a),c=r(2),s=r(15),o=r(25),i=r(19),u=r(73),l=r(47),d=r.n(l),p=r(43),b=r.n(p),f=r(45),O=r(46),j=r(44),y=r(56),h=r(24),x=r(98),v=r(74),g=r(75),m=r(39),w=r(93).createPursesTerm;var k=n.a.mark((function t(r){var a,l,p,k,S,U,I,D,E,A,T,N,_,P,R,C,B,J,K,L,G,M,V,H,W;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("reuploload-bag-data",r.payload),a=h.k.getState(),l=Object(h.b)(a),p=a.reducer.publicKey,t.next=6,Object(h.h)(a);case 6:return k=t.sent,t.t0=j.DID,t.t1=s.a,t.t2=s.a,t.t3={},t.next=13,Object(f.a)();case 13:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=b.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},S=new t.t0(t.t8),U=e.from(k,"hex"),I=new O.a(U),t.next=23,S.authenticate({provider:I});case 23:if(D=l["".concat(r.payload.registryUri,"/").concat(r.payload.bagId)]){t.next=27;break}return console.error("bagData/document not found"),t.abrupt("return");case 27:return E=r.payload.bagId,A=Object(s.a)(Object(s.a)({},D),{},{date:D.date}),T=Object(s.a)({},A),t.next=32,S.createDagJWS(T);case 32:return N=t.sent,_=N.jws,P=N.linkedBlock,R={jws:_,data:Object(y.encodeBase64)(P)},C=JSON.stringify(R,x.a),B=Object(u.a)(C),J=e.from(B).toString("base64"),K=1e8*r.payload.price,L={purses:Object(c.a)({},E,{id:E,boxId:a.reducer.user,type:"0",quantity:1,price:K}),data:Object(c.a)({},E,J),masterRegistryUri:a.reducer.registryUri,contractId:"public_store",boxId:a.reducer.user},S.deauthenticate(),G=w(L),t.prev=43,t.t9=JSON,t.next=47,i.http.blocks(a.reducer.readOnlyUrl,{position:1});case 47:t.t10=t.sent,M=t.t9.parse.call(t.t9,t.t10)[0].blockNumber,t.next=55;break;case 51:throw t.prev=51,t.t11=t.catch(43),console.log(t.t11),new Error("Unable to get last finalized block");case 55:return V=(new Date).getTime(),t.next=58,Object(v.a)(a.reducer.readOnlyUrl,p,V);case 58:return H=t.sent,t.next=61,i.utils.getDeployOptions("secp256k1",V,G,k,p,1,4e9,M);case 61:return W=t.sent,t.next=64,i.http.deploy(a.reducer.validatorUrl,W);case 64:return t.sent.startsWith('"Success!')&&d.a.fire({text:"Publishing is in progress",showConfirmButton:!1}),t.next=68,Object(g.a)(JSON.parse(H).names[0],a.reducer.readOnlyUrl);case 68:return h.k.dispatch(Object(m.c)("/#/doc")),d.a.fire({title:"Success!",text:"Publishing complete",showConfirmButton:!1,timer:5e3,didClose:function(){localStorage.setItem("tour","3"),window.location.reload()}}),t.next=72,Object(o.b)({type:"PURCHASE_BAG_COMPLETED",payload:{}});case 72:return t.abrupt("return",!0);case 73:case"end":return t.stop()}}),t,null,[[43,51]])})),S=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.c)("PUBLISH_BAG_DATA",k);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},323:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return w}));var a=r(1),n=r.n(a),c=r(15),s=r(25),o=r(19),i=r(47),u=r.n(i),l=r(43),d=r.n(l),p=r(45),b=r(46),f=r(44),O=r(24),j=r(74),y=r(75),h=r(93),x=h.purchaseTerm,v=h.readPursesDataTerm;function g(e){u.a.fire({title:"Success!",text:"Purchase complete",showConfirmButton:!1,timer:5e3,didClose:function(){localStorage.setItem("tour",e),window.location.reload()}})}var m=n.a.mark((function t(r){var a,i,l,h,m,w,k,S,U,I,D,E,A,T,N,_,P,R;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("purchase-bag",r.payload),a=O.k.getState(),i=Object(O.b)(a),console.log(i),l=a.reducer.publicKey,t.next=7,Object(O.h)(a);case 7:return h=t.sent,t.t0=f.DID,t.t1=c.a,t.t2=c.a,t.t3={},t.next=14,Object(p.a)();case 14:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=d.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},m=new t.t0(t.t8),w=e.from(h,"hex"),k=new b.a(w),t.next=24,m.authenticate({provider:k});case 24:if(S=i["".concat(r.payload.registryUri,"/").concat(r.payload.bagId)],console.log(S),S){t.next=29;break}return console.error("bagData/document not found"),t.abrupt("return");case 29:return U=r.payload.bagId,m.deauthenticate(),D=v({masterRegistryUri:r.payload.registryUri,pursesIds:[U],contractId:"public_store"}),t.next=34,o.http.exploreDeploy(a.reducer.readOnlyUrl,{term:D});case 34:return(I=t.sent)&&(E=o.utils.rhoValToJs(JSON.parse(I).expr[0])),A={masterRegistryUri:r.payload.registryUri,purseId:U,contractId:"public_store",boxId:a.reducer.user,quantity:1,newId:null,merge:!0,data:E[U],price:r.payload.price,publicKey:l},T=x(A),t.prev=38,t.t9=JSON,t.next=42,o.http.blocks(a.reducer.readOnlyUrl,{position:1});case 42:t.t10=t.sent,N=t.t9.parse.call(t.t9,t.t10)[0].blockNumber,t.next=50;break;case 46:throw t.prev=46,t.t11=t.catch(38),console.log(t.t11),new Error("Unable to get last finalized block");case 50:return _=(new Date).getTime(),t.next=53,Object(j.a)(a.reducer.readOnlyUrl,l,_);case 53:return P=t.sent,t.next=56,o.utils.getDeployOptions("secp256k1",_,T,h,l,1,4e9,N);case 56:return R=t.sent,t.next=59,o.http.deploy(a.reducer.validatorUrl,R);case 59:return t.sent.startsWith('"Success!')&&u.a.fire({text:"Purchase is in progress",showConfirmButton:!1}),t.next=63,Object(y.a)(JSON.parse(P).names[0],a.reducer.readOnlyUrl);case 63:return g(r.payload.step),t.next=66,Object(s.b)({type:"PURCHASE_BAG_COMPLETED",payload:{}});case 66:return t.abrupt("return",!0);case 67:case"end":return t.stop()}}),t,null,[[38,46]])})),w=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)("PURCHASE_BAG",m);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},324:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return h}));var a=r(1),n=r.n(a),c=r(15),s=r(25),o=r(19),i=r(47),u=r.n(i),l=r(43),d=r.n(l),p=r(45),b=r(46),f=r(44),O=r(24),j=r(93).updatePursePriceTerm,y=n.a.mark((function t(r){var a,i,l,y,h,x,v,g,m,w,k,S,U,I,D;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D=function(){u.a.fire({title:"Success!",text:"Listing complete",showConfirmButton:!1,timer:1e4})},console.log("sell-bag",r.payload),a=O.k.getState(),i=Object(O.b)(a),console.log(i),l=a.reducer.publicKey,t.next=8,Object(O.h)(a);case 8:return y=t.sent,t.t0=f.DID,t.t1=c.a,t.t2=c.a,t.t3={},t.next=15,Object(p.a)();case 15:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=d.a.getResolver(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8={resolver:t.t7},h=new t.t0(t.t8),x=e.from(y,"hex"),v=new b.a(x),t.next=25,h.authenticate({provider:v});case 25:if(g=i["".concat(r.payload.registryUri,"/").concat(r.payload.bagId)],console.log(g),g){t.next=30;break}return console.error("bagData/document not found"),t.abrupt("return");case 30:return m=r.payload.bagId,h.deauthenticate(),w={masterRegistryUri:r.payload.registryUri,boxId:a.reducer.user,contractId:"public_store",price:r.payload.price,purseId:m},k=j(w),t.prev=34,t.t9=JSON,t.next=38,o.http.blocks(a.reducer.readOnlyUrl,{position:1});case 38:t.t10=t.sent,S=t.t9.parse.call(t.t9,t.t10)[0].blockNumber,t.next=46;break;case 42:throw t.prev=42,t.t11=t.catch(34),console.log(t.t11),new Error("Unable to get last finalized block");case 46:return U=(new Date).getTime(),t.next=49,o.utils.getDeployOptions("secp256k1",U,k,y,l,1,4e9,S);case 49:return I=t.sent,t.next=52,o.http.deploy(a.reducer.validatorUrl,I);case 52:return t.next=54,Object(s.b)({type:"SELL_BAG_COMPLETED",payload:{}});case 54:return u.a.fire({text:"Listing is in progress",showConfirmButton:!1,timer:15e3}),setTimeout((function(){D()}),15e3),localStorage.setItem("tour","5"),setTimeout((function(){window.location.reload()}),15e3),t.abrupt("return",!0);case 59:case"end":return t.stop()}}),t,null,[[34,42]])})),h=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)("SELL_BAG",y);case 2:case"end":return e.stop()}}),e)}))}).call(this,r(20).Buffer)},339:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=339},340:function(e,t,r){var a={"./ion-icon.entry.js":[707,19]};function n(e){if(!r.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],n=t[0];return r.e(t[1]).then((function(){return r(n)}))}n.keys=function(){return Object.keys(a)},n.id=340,e.exports=n},348:function(e,t){},350:function(e,t){},368:function(e,t){},369:function(e,t){},406:function(e,t,r){},407:function(e,t,r){},408:function(e,t,r){},429:function(e,t,r){},469:function(e,t,r){},502:function(e,t){},531:function(e,t){},533:function(e,t){},570:function(e,t){},572:function(e,t){},579:function(e,t){},580:function(e,t){},702:function(e,t,r){"use strict";r.r(t);var a=r(3),n=r.n(a),c=r(60),s=r.n(c),o=r(16),i=r(21),u=r(57),l=r(19),d=r(42),p=r(186),b=(r(406),r(407),r(1)),f=r.n(b),O=r(5),j=(r(408),r(310)),y=(r(429),r(14)),h=function(e){var t=e.url,r=n.a.useRef(null),c=Object(a.useState)(!1),s=Object(i.a)(c,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){if(t){var e={errorCorrectionLevel:"H",width:u?220:100,height:u?220:100,margin:1};Object(j.toCanvas)(r.current,t,e).then((function(e){console.info("QRCode created"),console.info(e)}))}}),[t,u]),Object(y.jsxs)(o.h,{className:u?"QRContainer large":"QRContainer small",color:"tertiary",onClick:function(){l(!u)},"data-v-fe088160":"",children:[Object(y.jsx)("canvas",{ref:r,className:"Image","data-v-fe088160":""}),Object(y.jsx)(o.v,{color:"dark","data-v-fe088160":"",children:"Scan to view"})]})},x=Object(u.connect)((function(e){return{registryUri:e.reducer.registryUri,user:e.reducer.user,publicKey:e.reducer.publicKey?e.reducer.publicKey:""}}),(function(e){}))((function(e){var t=Object(a.useState)(),r=Object(i.a)(t,2),n=r[0],c=r[1],s=function(){var t=Object(O.a)(f.a.mark((function t(){var r,a,n,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r='new return, rl(`rho:registry:lookup`), RevVaultCh, vaultCh, balanceCh in {\n    rl!(`rho:rchain:revVault`, *RevVaultCh) |\n    for (@(_, RevVault) <- RevVaultCh) {\n      @RevVault!("findOrCreate", "'.concat(l.utils.revAddressFromPublicKey(e.publicKey),'", *vaultCh) |\n      for (@(true, vault) <- vaultCh) {\n        @vault!("balance", *balanceCh) |\n        for (@balance <- balanceCh) { return!(balance) }\n      }\n    }\n  }'),t.prev=1,t.next=4,l.http.exploreDeploy("https://gracious-pare-6c4c99.netlify.app",{term:r});case 4:a=t.sent,n=l.utils.rhoValToJs(JSON.parse(a).expr[0]),s=1e-8*n,console.log(s),c(s),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return","error");case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}();s();return Object(y.jsx)(o.H,{"data-v-612d0241":"",children:Object(y.jsxs)(o.m,{"data-v-612d0241":"",children:[Object(y.jsx)(h,{url:"did:rchain:".concat(e.registryUri,"/").concat(e.user),"data-v-612d0241":""}),Object(y.jsx)(o.E,{"data-v-612d0241":"",children:Object(y.jsx)(o.i,{"data-v-612d0241":"",children:Object(y.jsx)(o.v,{"data-v-612d0241":"",children:e.user})})}),Object(y.jsx)(o.E,{"data-v-612d0241":"",children:Object(y.jsx)(o.i,{"data-v-612d0241":"",children:Object(y.jsxs)(o.v,{"data-v-612d0241":"",children:["REV Balance: ",Object(y.jsx)("p",{className:"balance","data-v-612d0241":"",children:n})]})})})]})})})),v=x,g=r(40),m=r(327),w=r(311),k=r.n(w),S=r(312),U=r.n(S),I=r(122),D=r.p+"static/media/logo.d52e039a.png",E=n.a.lazy((function(){return r.e(7).then(r.bind(null,741))})),A=n.a.lazy((function(){return Promise.all([r.e(0),r.e(5)]).then(r.bind(null,744))})),T=n.a.lazy((function(){return Promise.all([r.e(0),r.e(6)]).then(r.bind(null,745))})),N=Object(u.connect)((function(e){return{authorised:e.reducer.authorised,registryUri:e.reducer.registryUri,user:e.reducer.user,bags:e.reducer.bags,isLoading:e.reducer.isLoading}}),(function(e){return{init:function(t){e({type:"INIT",payload:{privateKey:t.privateKey,publicKey:l.utils.publicKeyFromPrivateKey(t.privateKey),registryUri:t.registryUri,user:t.user}})},setPlatform:function(t){e({type:"SET_PLATFORM",payload:{platform:t}})},setUser:function(t){e({type:"SET_USER",payload:{user:t}})}}}))((function(e){var t=n.a.useRef(null),r=Object(a.useState)(!1),c=Object(i.a)(r,2),s=c[0],u=c[1],l=Object(a.useState)(),b=Object(i.a)(l,2),f=b[0],O=b[1],j=Object(I.b)(),h=j.setIsOpen,x=(j.setCurrentStep,j.setSteps,j.currentStep,localStorage.getItem("user"));e.setUser(x),console.log(x);Object(a.useEffect)((function(){var e=U.a.parse(window.location.search)||{};if(console.info("params:"),console.info(e),e&&e.step){var t=e.step||"0";localStorage.setItem("tour",t)}var r=localStorage.getItem("demo");if(r&&Object.keys(r).length>0){var a=JSON.parse(r);console.info("DEMO:"),console.info(a),O(a)}else k.a.get("https://thirsty-villani-4b6e68.netlify.app/pop").then((function(e){console.info(e);var t=e.data;O(t),Object.keys(t).length>0&&(localStorage.setItem("demo",JSON.stringify(t)),h(!0))}))}),[]),Object(a.useEffect)((function(){m.a.getInfo().then((function(t){e.setPlatform(t.platform)}))}));return e.authorised?Object(y.jsxs)(o.x,{id:"home-page","data-v-56f39059":"",children:[Object(y.jsxs)(o.n,{"no-border":!0,"no-shadow":!0,className:"ion-no-border","data-v-56f39059":"",children:[Object(y.jsxs)(o.L,{className:"noSafeAreaPaddingTop","data-v-56f39059":"",children:[Object(y.jsx)(o.p,{className:"RPCLogo",slot:"start",src:D,"data-v-56f39059":""}),Object(y.jsx)(o.K,{className:"title",onClick:function(){setTimeout((function(){window.location.reload()}),100)},"data-v-56f39059":"",children:"RChain Publishing"}),Object(y.jsx)(o.b,{slot:"end","icon-only":!0,color:"none",class:"ProfileButton",onClick:function(){u(!s),console.info(s)},"data-v-56f39059":"",children:s?Object(y.jsx)(o.o,{icon:g.i,size:"large","data-v-56f39059":""}):Object(y.jsxs)("div",{className:"UserInfo","data-v-56f39059":"",children:[Object(y.jsx)(o.v,{"data-v-56f39059":"",children:e.user}),Object(y.jsx)(o.o,{icon:g.o,size:"large","data-v-56f39059":""})]})})]}),Object(y.jsx)("div",{className:s?"RedFill show":"RedFill hide",ref:t,"data-v-56f39059":"",children:Object(y.jsx)(o.j,{className:"IdentityBG","data-v-56f39059":"",children:Object(y.jsxs)("div",{className:s?"ProfilePanel show":"ProfilePanel hide","data-v-56f39059":"",children:[Object(y.jsx)("div",{className:"ArrowLeft","data-v-56f39059":""}),Object(y.jsx)("div",{className:"ArrowRight","data-v-56f39059":""}),Object(y.jsx)(o.I,{class:"IdentityList",options:{initialSlide:0,speed:400},pager:!0,onIonSlideDidChange:function(e){e.target.getActiveIndex().then((function(e){console.info(e)}))},"data-v-56f39059":"",children:Object(y.jsx)(o.H,{className:"IdentitySlide","data-v-56f39059":"",children:Object(y.jsx)(v,{"data-v-56f39059":""})})})]})})})]}),Object(y.jsx)(o.j,{"data-v-56f39059":"",children:"buyer"===x||"buyer2"===x?Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(T,{registryUri:e.registryUri,action:"list","data-v-56f39059":""})}):Object(y.jsx)(p.a,{"data-v-56f39059":"",children:Object(y.jsxs)(o.D,{id:"main","data-v-56f39059":"",children:[Object(y.jsx)(d.Route,{exact:!0,path:"/doc/show/:registryUri/:bagId?",render:function(e){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(A,{registryUri:e.match.params.registryUri,bagId:e.match.params.bagId,action:"show","data-v-56f39059":""},e.location.hash)})},"data-v-56f39059":""}),Object(y.jsx)(d.Route,{exact:!0,path:"/doc",render:function(t){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(A,{registryUri:e.registryUri,action:"list","data-v-56f39059":""},t.location.hash)})},"data-v-56f39059":""}),Object(y.jsx)(d.Route,{exact:!0,path:"/doc/upload",render:function(t){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(A,{registryUri:e.registryUri,action:"upload","data-v-56f39059":""},t.location.hash)})},"data-v-56f39059":""}),Object(y.jsx)(d.Route,{path:"/",render:function(e){var t=e.location;return Object(y.jsx)(d.Redirect,{to:{pathname:"/doc",state:{from:t}},"data-v-56f39059":""})},exact:!0,"data-v-56f39059":""})]})})})]}):Object(y.jsx)(p.a,{"data-v-56f39059":"",children:Object(y.jsxs)(o.D,{id:"main","data-v-56f39059":"",children:[Object(y.jsx)(d.Route,{exact:!0,path:"/user",render:function(e){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(E,{action:"user",demo:f,"data-v-56f39059":""},e.location.pathname)})},"data-v-56f39059":""}),Object(y.jsx)(d.Route,{exact:!0,path:"/user/new",render:function(e){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(E,{action:"new",demo:f,"data-v-56f39059":""},e.location.pathname)})},"data-v-56f39059":""}),Object(y.jsx)(d.Route,{exact:!0,path:"/user/restore",render:function(e){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(E,{action:"restore",demo:f,"data-v-56f39059":""},e.location.pathname)})},"data-v-56f39059":""}),Object(y.jsx)(d.Route,{path:"/",exact:!0,render:function(e){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(E,{action:"user",demo:f,"data-v-56f39059":""},e.location.pathname)})},"data-v-56f39059":""}),Object(y.jsx)(d.Route,{path:"*",render:function(e){return Object(y.jsx)(a.Suspense,{fallback:Object(y.jsx)(o.w,{isOpen:!0,"data-v-56f39059":""}),"data-v-56f39059":"",children:Object(y.jsx)(E,{action:"user",demo:f,"data-v-56f39059":""},e.location.pathname)})},"data-v-56f39059":""})]})})})),_=(r(459),r(460),r(461),r(462),r(463),r(464),r(465),r(466),r(467),r(468),r(469),[{selector:".attestation-step-start",content:"Login as Publisher to upload a photo."}]),P=function(){return Object(y.jsx)(o.a,{children:Object(y.jsx)(I.a,{steps:_,showBadge:!1,showCloseButton:!1,showPrevNextButtons:!1,showNavigation:!0,onClickMask:function(){console.info("closing")},children:Object(y.jsx)(N,{})})})},R=r(24),C=r(70);s.a.render(Object(y.jsx)(u.Provider,{store:R.k,children:Object(y.jsx)(C.a,{history:R.j,children:Object(y.jsx)(P,{})})}),document.getElementById("root"))},74:function(e,t,r){"use strict";var a=r(1),n=r.n(a),c=r(5),s=r(19),o=function(){var e=Object(c.a)(n.a.mark((function e(t,r,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.http.prepareDeploy(t,{deployer:r,timestamp:a,nameQty:1});case 3:c=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),new Error("Unable to prepare deploy");case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,a){return e.apply(this,arguments)}}();t.a=o},75:function(e,t,r){"use strict";var a=r(19);t.a=function(e,t){try{return new Promise((function(r,n){var c=setInterval((function(){try{var n=void 0;a.http.dataAtName(t,{name:{UnforgPrivate:{data:e}},depth:3}).then((function(e){(n=e)&&JSON.parse(n)&&JSON.parse(n).exprs&&JSON.parse(n).exprs.length?(r(n),clearInterval(c)):console.log("  .")})).catch((function(e){throw console.log(n),console.log(e),new Error("wait for unforgeable name")}))}catch(s){throw console.log(s),new Error("wait for unforgeable name")}}),4e3)}))}catch(r){throw console.log(r),new Error("wait for unforgeable name")}}},94:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a=function(e,t){return e+"/"+t}},98:function(e,t,r){"use strict";t.a=function(e,t){return t instanceof Object&&!(t instanceof Array)?Object.keys(t).sort().reduce((function(e,r){return e[r]=t[r],e}),{}):t}}},[[702,3,4]]]);
//# sourceMappingURL=main.9fe8243e.chunk.js.map